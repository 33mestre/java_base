# ---------------------------------
#    _____ __         __                    ______                          _
#   / ___// /_  ___  / /________  ____     / ____/__  ______________ ______(_)
#   \__ \/ __ \/ _ \/ / ___/ __ \/ __ \   / /_  / _ \/ ___/ ___/ __ `/ ___/ /
#  ___/ / / / /  __/ (__  ) /_/ / / / /  / __/ /  __/ /  / /  / /_/ / /  / /
# /____/_/ /_/\___/_/____/\____/_/ /_/  /_/    \___/_/  /_/   \__,_/_/  /_/
# ---------------------------------
# Currency Conversion API - Dockerfile console-app
# ---------------------------------
# This Dockerfile sets up a Docker environment to run a Groovy application
# for the purpose of generating the project's changelog.
# ---------------------------------

# ---------------------------------
# Use the OpenJDK 17 base image
# ---------------------------------
FROM openjdk:17-slim

# ---------------------------------
# Install Groovy and Git
# ---------------------------------
RUN apt-get update && apt-get install -y groovy git

# ---------------------------------
# Set the working directory inside the container
# ---------------------------------
WORKDIR /app

# ---------------------------------
# Copy the Groovy script and execution script to the container
# ---------------------------------
COPY sys ./sys

# ---------------------------------
# Give execution permission to the script
# ---------------------------------
RUN chmod +x ./sys/callChangeLog.sh

# ---------------------------------
# Command to start the script
# ---------------------------------
CMD ["./sys/callChangeLog.sh"]